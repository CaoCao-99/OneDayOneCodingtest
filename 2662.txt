기업투자 스페셜 저지

문제
{
어떤 투자가가 여러 기업들에게 돈을 투자해서 최대의 이익을 얻고자 한다. 단, 투자는 만원 단위로 할 수 있으며 각 기업은 많이 투자할수록 많은 이익을 투자가에게 돌려준다. 

돈을 투자하지 않은 경우는 당연히 얻게 되는 이익도 없다. 

예를 들어서, 한 투자가가 4만원을 갖고 두 개의 기업들에 각각 만원 단위로 투자했을 경우 얻을 수 있는 이익은 다음과 같다.

투자 액수 (만원)	기업 A	기업 B
1	5	1
2	6	5
3	7	9
4	8	15 

위의 경우 만일, 기업 A에 1만원, 기업 B에 3만원을 투자하는 경우 투자가가 얻는 이익은 14만원(5만원+9만원)이다. 

4만원을 투자해서 가장 많은 이익을 얻을 경우 기업 B에만 4만원을 투자하는 경우로서 이때의 이익은 15만원이다. 여기서 투자가는 한 기업에 돈을 나누어 투자할 수는 없다.

투자액이 정해져 있고, 기업의 개수와 각 기업에 투자했을 경우에 얻게 되는 이익이 주어졌을 때 가장 많은 이익을 얻을 수 있는 투자방식과 이때의 이익금을 구하는 프로그램을 작성하라.
}


입력
{
첫째 줄에 투자 금액 N과 투자 가능한 기업들의 개수 M이 주어진다. (1 ≤ N ≤ 300, 1 ≤ M ≤ 20)

둘째 줄부터 N개의 줄에 투자액수와 각 기업이 투자가에게 주는 이익이 주어진다.

투자 금액은 항상 1보다 크거나 같고, N보다 작거나 같고, 같은 투자 금액이 두 번 이상 주어지는 경우는 없다. 즉, i번 줄에 주어지는 투자 금액은 i-1만원이다.
}


출력
{
첫 줄에 얻을 수 있는 최대 이익을 출력하고, 둘째 줄에는 각 기업에 투자한 액수를 출력한다. 최대 이익은 231보다 작다.
}


예제 입력 1 
{
4 2
1 5 1
2 6 5
3 7 9
4 10 15
}

예제 출력 1 
{
15
0 4
}

풀이 방법
{
    가방 문제를 응용해서 문제를 해결할 수 있다(DP 문제)

    기존에 가방 문제는 물건이 주어지고 그 물건을 하나하나 비교해가며 현재 이 물건을 넣을 수 있는 경우라면 넣는 경우와 넣지 않는 경우를 비교하여 큰 값을 dp배열에 넣는 것으로 문제를 풀었다.

    dp[현재 물건][빈 공간] = max(dp[이전 물건][빈 공간 - 현재 물건의 무게] + 현재 물건의 가치, dp[이전 물건][빈 공간 - 현재 물건의 무게])

    이 문제도 똑같이 생각하면 무게가 1~N인 물건이 각각 M개가 존재한다. 따라서, 총 M*N개의 물건을 넣을 수 있는지 판단하여 진행하면 되는데

    여기서 다른점은 같은 기업에 투자하는 것을 아예 독립적으로 생각해서는 안된다는 것이다.

    예를 들어, A기업에 1만원을 투자하고 이후, A 기업에 2만원을 투자하는 경우는 사실상 A 기업에 3만원을 투자하는 것과 같기 때문이다.

    따라서, 이를 방지해야 문제를 해결할 수 있다.

    DP 문제는 가장 아래서부터 차례차례 보는 것이 편하다.

    만약, 기업 A,B,C 가 존재하고 갖고 있는 돈이 1만원 일때,

    dp[A][1] = A기업까지 1만원 투자했을 때 최대로 얻을 수 있는 이득

    dp[B][1] = B기업까지 1만원 투자했을 때 최대로 얻을 수 있는 이득 = max(A기업까지 1만원 투자했을 때 최대로 얻을 수 있는 이득, B기업에 1만원 투자했을 떄 얻는 이득)

    dp[C][1] = C기업까지 1만원 투자했을 때 최대로 얻을 수 있는 이득 = amx(B기업까지 1만원 투자했을 때 최대로 얻을 수 있는 이득, C기업에 1만원 투자했을 때 얻는 이득)

    돈이 2만원인 경우는 다음과 같다.

    dp[A][2] = A기업까지 2만원 투자했을 때 얻는 이득

    dp[B][2] = B기업까지 2만원 투자했을 때 얻는 최대 이득 = max(B기업에 2만원 투자, dp[A][2], dp[B][1] + dp[A][1])

    dp[C][2] = C기업까지 2만원 투자했을 때 얻는 최대 이득 = max(C기업에 2만원 투자, dp[B][2], dp[C][1] + dp[B][1])

    돈이 3만원인 경우는 다음과 같다.

    dp[A][3] = A기업까지 3만원 투자했을 때 얻는 이득

    dp[B][3] = B기업까지 3만원 투자했을 때 얻는 최대 이득 = max(B기업에 3만원 투자, dp[A][3], dp[B][2] + dp[A][1], dp[B][1] + dp[A][2])

    dp[C][2] = C기업까지 2만원 투자했을 때 얻는 최대 이득 = max(C기업에 3만원 투자, dp[B][3], dp[C][1] + dp[B][2], dp[C][2] + dp[B][1])
}